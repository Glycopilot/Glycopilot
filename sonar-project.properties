sonar.projectKey=glycopilot_glycopilot
sonar.organization=glycopilot
sonar.projectVersion=1.0

# Sources à analyser
sonar.sources=backend/apps,backend/middleware,backend/utils,frontend/src
sonar.exclusions=**/migrations/**,**/node_modules/**,**/__pycache__/**,**/tests/**,**/*.test.js,**/venv/**,**/staticfiles/**

# Configuration Python
sonar.python.version=3.11
sonar.sourceEncoding=UTF-8

# Tests : les tests sont dans backend/apps (ex. apps/auth/test_*.py, apps/users/tests.py)
sonar.tests=backend/apps
sonar.test.inclusions=**/*test*.py,**/test_*.py,**/tests.py,**/*Test*.js,**/*.test.js

# Coverage
sonar.python.coverage.reportPaths=backend/coverage.xml
# TODO: Activer la couverture frontend une fois les tests configurés
# sonar.javascript.lcov.reportPaths=frontend/coverage/lcov.info

# Quality Gate - BLOQUE la pipeline si le Quality Gate échoue
sonar.qualitygate.wait=true
sonar.qualitygate.timeout=300

# Configuration GitHub pour l'intégration automatique
# SonarCloud détectera automatiquement les branches via GitHub Actions
# Pas besoin de définir sonar.branch.name manuellement

# Seuils pour nouvelles contributions (New Code)
# main est la référence, develop et feature branches seront comparées à main
sonar.newCode.referenceBranch=main

# Seuils de duplication
sonar.cpd.exclusions=**/tests/**,**/migrations/**

# Logs et verbosité
sonar.log.level=INFO
sonar.verbose=false

# Langages
sonar.language=py,js,ts

# Paramètres de sécurité
sonar.links.homepage=https://github.com/glycopilot/glycopilot
sonar.links.ci=https://github.com/glycopilot/glycopilot/actions
sonar.links.issue=https://github.com/glycopilot/glycopilot/issues
