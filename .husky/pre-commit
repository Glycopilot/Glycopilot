#!/bin/sh
set -e

npm run check-branch-name

cd backend

# Utiliser le venv si disponible, sinon python3 global
if [ -f "venv/bin/python" ]; then
    PYTHON_CMD="venv/bin/python"
elif [ -f "venv/Scripts/python.exe" ]; then
    PYTHON_CMD="venv/Scripts/python.exe"
else
    PYTHON_CMD="python3"
fi

echo "üîç V√©rification du code Python..."
$PYTHON_CMD -m isort --check-only .
$PYTHON_CMD -m black --check .
$PYTHON_CMD -m flake8
